	.text

	.equ	AUDIO_FIFOSPACE_BASE, 0xFF203044
	.equ	AUDIO_LEFTDATA_BASE, 0xFF203048
	.equ	AUDIO_RIGHTDATA_BASE, 0xFF20304C

	.global	write_audio_data_ASM

write_audio_data_ASM:
	LDR R1, =AUDIO_FIFOSPACE_BASE
	LDR R1, [R1]
	AND R2, R1, #0xFF000000
	LSR R2, #24					//WSLC
	CMP R2, #0
	BEQ FULL
	AND R2, R1, #0xFF0000
	LSR R2, #16					//WSRC
	CMP R2, #0
	BEQ FULL
	LDR R1, =AUDIO_LEFTDATA_BASE
	LDR R2, =AUDIO_RIGHTDATA_BASE
	STR R0, [R1]
	STR R0, [R2]
	MOV R0, #1
	BX LR
FULL:
	MOV R0, #0
	BX LR
	
